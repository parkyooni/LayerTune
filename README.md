# LayerTune

<p align="center">
  <img src="https://github.com/user-attachments/assets/dfcaba5a-4713-4fed-a770-ab5ca2febd26">
</p>

<p align="center">
웹사이트 전체에서 사용자가 원하는 위치로 요소들을 이동할 수 있도록 돕는 Chrome Extension입니다. <br/>
웹사이트 페이지에서 사용자가 원하는 요소들을 한눈에 확인할 수 있으며, <br/>
간단한 조작으로 요소들의 위치를 이동시켜 나만의 사이트를 저장하고 보관할 수 있습니다.

</p>

<p align="center">
 크롬 확장 프로그램 <br/> GitHub Repo : <a href="https://github.com/parkyooni/LayerTune-Backend" target="_blank">Sever</a> <b>|</b> <a href="https://github.com/parkyooni/LayerTune" target="_blank">Clint<br/>
 <img src="https://img.shields.io/badge/javascript-222222?style=for-the-badge">
<img src="https://img.shields.io/badge/node-222222?style=for-the-badge">
<img src="https://img.shields.io/badge/MongoDB-222222?style=for-the-badge">
<img src="https://img.shields.io/badge/Express-222222?style=for-the-badge">
</p>

## 기능

<!-- toc -->

- [프로젝트 기능 소개](#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EA%B8%B0%EB%8A%A5-%EC%86%8C%EA%B0%9C)
  - [[요소의 이동] 웹 사이트의 요소 위치를 이동합니다.](#%EC%9A%94%EC%86%8C%EC%9D%98-%EC%9D%B4%EB%8F%99-%EC%9B%B9-%EC%82%AC%EC%9D%B4%ED%8A%B8%EC%9D%98-%EC%9A%94%EC%86%8C-%EC%9C%84%EC%B9%98%EB%A5%BC-%EC%9D%B4%EB%8F%99%ED%95%A9%EB%8B%88%EB%8B%A4)
  - [[요소의 저장] 변경한 웹 사이트를 저장 & 불러옵니다.](#%EC%9A%94%EC%86%8C%EC%9D%98-%EC%A0%80%EC%9E%A5-%EB%B3%80%EA%B2%BD%ED%95%9C-%EC%9B%B9-%EC%82%AC%EC%9D%B4%ED%8A%B8%EB%A5%BC-%EC%A0%80%EC%9E%A5--%EB%B6%88%EB%9F%AC%EC%98%B5%EB%8B%88%EB%8B%A4)
- [핵심기능 구현 과정](#%ED%95%B5%EC%8B%AC%EA%B8%B0%EB%8A%A5-%EA%B5%AC%ED%98%84-%EA%B3%BC%EC%A0%95)

  - [[요소의 표시 및 선택] 모든 웹사이트의 각 요소를 표시하고 선택합니다.](#%EC%9A%94%EC%86%8C%EC%9D%98-%ED%91%9C%EC%8B%9C-%EB%B0%8F-%EC%84%A0%ED%83%9D-%EB%AA%A8%EB%93%A0-%EC%9B%B9%EC%82%AC%EC%9D%B4%ED%8A%B8%EC%9D%98-%EA%B0%81-%EC%9A%94%EC%86%8C%EB%A5%BC-%ED%91%9C%EC%8B%9C%ED%95%98%EA%B3%A0-%EC%84%A0%ED%83%9D%ED%95%A9%EB%8B%88%EB%8B%A4)

    - [모든 사이트에 이동 가능한 요소를 가이드 라인으로 제공합니다.](#%EB%AA%A8%EB%93%A0-%EC%82%AC%EC%9D%B4%ED%8A%B8%EC%97%90-%EC%9D%B4%EB%8F%99-%EA%B0%80%EB%8A%A5%ED%95%9C-%EC%9A%94%EC%86%8C%EB%A5%BC-%EA%B0%80%EC%9D%B4%EB%93%9C-%EB%9D%BC%EC%9D%B8%EC%9C%BC%EB%A1%9C-%EC%A0%9C%EA%B3%B5%ED%95%A9%EB%8B%88%EB%8B%A4)
    - [웹 사이트의 요소에 가이드 라인을 표시합니다.](#%EC%9B%B9-%EC%82%AC%EC%9D%B4%ED%8A%B8%EC%9D%98-%EC%9A%94%EC%86%8C%EC%97%90-%EA%B0%80%EC%9D%B4%EB%93%9C-%EB%9D%BC%EC%9D%B8%EC%9D%84-%ED%91%9C%EC%8B%9C%ED%95%A9%EB%8B%88%EB%8B%A4)

  - [[요소의 이동 방법] 요소 이동은 단일 선택과 다중 선택이 가능합니다.](#%EC%9A%94%EC%86%8C%EC%9D%98-%EC%9D%B4%EB%8F%99-%EB%B0%A9%EB%B2%95-%EC%9A%94%EC%86%8C-%EC%9D%B4%EB%8F%99%EC%9D%80-%EB%8B%A8%EC%9D%BC-%EC%84%A0%ED%83%9D%EA%B3%BC-%EB%8B%A4%EC%A4%91-%EC%84%A0%ED%83%9D%EC%9D%B4-%EA%B0%80%EB%8A%A5%ED%95%A9%EB%8B%88%EB%8B%A4)
  - [[요소의 화면 출력] 웹사이트의 정보를 빠르게 출력하고 리뉴얼도 체크합니다.](#%EC%9A%94%EC%86%8C%EC%9D%98-%ED%99%94%EB%A9%B4-%EC%B6%9C%EB%A0%A5-%EC%9B%B9%EC%82%AC%EC%9D%B4%ED%8A%B8%EC%9D%98-%EC%A0%95%EB%B3%B4%EB%A5%BC-%EB%B9%A0%EB%A5%B4%EA%B2%8C-%EC%B6%9C%EB%A0%A5%ED%95%98%EA%B3%A0-%EB%A6%AC%EB%89%B4%EC%96%BC%EB%8F%84-%EC%B2%B4%ED%81%AC%ED%95%A9%EB%8B%88%EB%8B%A4)

    - [요소들의 정보를 저장하는 데이터의 양을 예측하여 저장합니다.](#%EC%9A%94%EC%86%8C%EB%93%A4%EC%9D%98-%EC%A0%95%EB%B3%B4%EB%A5%BC-%EC%A0%80%EC%9E%A5%ED%95%98%EB%8A%94-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%9D%98-%EC%96%91%EC%9D%84-%EC%98%88%EC%B8%A1%ED%95%98%EC%97%AC-%EC%A0%80%EC%9E%A5%ED%95%A9%EB%8B%88%EB%8B%A4)
    - [웹 사이트가 리뉴얼이 발생하면 과거 저장한 정보가 맞지 않습니다.](#%EC%9B%B9-%EC%82%AC%EC%9D%B4%ED%8A%B8%EA%B0%80-%EB%A6%AC%EB%89%B4%EC%96%BC%EC%9D%B4-%EB%B0%9C%EC%83%9D%ED%95%98%EB%A9%B4-%EA%B3%BC%EA%B1%B0-%EC%A0%80%EC%9E%A5%ED%95%9C-%EC%A0%95%EB%B3%B4%EA%B0%80-%EB%A7%9E%EC%A7%80-%EC%95%8A%EC%8A%B5%EB%8B%88%EB%8B%A4)

- [기능 구현 과정](#%EA%B8%B0%EB%8A%A5-%EA%B5%AC%ED%98%84-%EA%B3%BC%EC%A0%95)
  - [익스텐션에서 구글 소셜 로그인 구현](#%EC%9D%B5%EC%8A%A4%ED%85%90%EC%85%98%EC%97%90%EC%84%9C-%EA%B5%AC%EA%B8%80-%EC%86%8C%EC%85%9C-%EB%A1%9C%EA%B7%B8%EC%9D%B8-%EA%B5%AC%ED%98%84)
- [프로젝트 회고](#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%ED%9A%8C%EA%B3%A0)

<!-- tocstop -->

## 프로젝트 기능 소개

### [요소의 이동] 웹 사이트의 요소 위치를 이동합니다.

<p align="center">
    <img src="https://github.com/user-attachments/assets/b30c4f20-f5f1-47a7-8b00-9bd6ebac9ae7" style="width: 100%" height="auto" ><br/>
    <span style="display: inline-block" align="center">웹 사이트에서 선택한 요소를 원하는 위치로 이동하여 위치를 변경합니다.
</span>
</p>
<br/>

- 원하는 웹 페이지에서 원하는 위치로 요소를 이동시키는 기능으로 두 가지의 이동 방법으로 나뉩니다.
  | 단일 선택 | 다중 선택 |
  | :-------------------------------------------------------------------------------------------: | :-------------------------------------------------------------------------------------------: |
  | ![단일 선택](https://github.com/user-attachments/assets/baf45f5c-55d1-4005-a6d0-df252b3e1e3c) | ![다중 선택](https://github.com/user-attachments/assets/f5bb8e1c-317d-46d1-8e81-bcc7151ef3d3) |
  | 단일 선택 시 이동 중인 요소를 원하는 위치로 이동하면 서로의 위치가 바뀝니다. | 다중 선택 시 이동 중인 요소를 원하는 위치의 다음 요소의 위치로 추가합니다. |

### [요소의 저장] 변경한 웹 사이트를 저장 & 불러옵니다.

<p align="center">
    <img src="https://github.com/user-attachments/assets/1e643829-d5f9-4171-a3dd-55c582b88133" width="700" height="auto" ><br/>
    <span style="display: inline-block" align="center">요소를 이동하고 저장하면 스위칭 탭 리스트에 저장한 정보가 조회됩니다.</span>
</p>

|                                           원본 웹 사이트                                           |                                           변경한 웹 사이트                                           |
| :------------------------------------------------------------------------------------------------: | :--------------------------------------------------------------------------------------------------: |
| ![원본 웹 사이트](https://github.com/user-attachments/assets/116983e7-ff56-48fe-abaa-36d5942cb510) | ![변경한 웹 사이트](https://github.com/user-attachments/assets/4c829ea7-65da-4015-8370-80d413d95026) |
|                               요소의 이동이 일어 나지 않은 웹 사이트                               |                                 요소의 이동 및 저장한 후의 웹 사이트                                 |

## 핵심기능 구현 과정

> 기능 구현 중에 발생한 챌린지로 <b> `구체화 > 해결 방안 및 결과 > 개선점` </b> 순서로 작성합니다.

### [요소의 표시 및 선택] 모든 웹사이트의 각 요소를 표시하고 선택합니다.

#### 모든 사이트에 이동 가능한 요소를 가이드 라인으로 제공합니다.

> 이 익스텐션은 모든 사이트에서 이동 가능한 요소를 가이드라인으로 제공합니다. 브라우저 웹 페이지의 요소들은 DOM의 요소를 의미하며, DOM은 HTML 태그를 포함하고 있습니다. 그중 div와 시맨틱 태그 요소만을 탐색하여 접근합니다. 이러한 요소에 별도의 표시를 하여 사용자가 이동 가능한 범위를 쉽게 이해할 수 있도록 의도하였습니다.

#### 구체화 <br/>

웹사이트마다 개발 방식이 다양하므로, div와 시맨틱 태그만으로 구성된 웹사이트는 아닐 수 있습니다. 이로 인해 다양한 계층으로 구성된 웹사이트에서 공통적인 요소를 한눈에 탐색하기 어려운 경우가 있습니다. 이러한 상황에서는 사용자가 제한적으로 일부 요소만 변경할 수 있으므로, DOM이 가진 HTML 요소 전체에 접근할 수 있는 확장성을 통해 개선해야 합니다.

#### 방안 적용 및 결과 <br/>

웹사이트에서 DOM 요소를 탐색할 때 HTML 전체가 아닌 body 태그를 기준으로 그 자식 요소들을 전부 탐색합니다. 사용자가 이동하고자 하는 요소에 접근하여 자유롭게 위치를 변경할 수 있도록 하여 사용자 경험을 개선하였습니다. 이때, 사용자가 요소를 쉽게 다룰 수 있도록 <a href="#4-%EB%8B%A8%EC%B6%95%ED%82%A4-%ED%95%9C-%EB%B2%88%EC%9D%98-%EC%8A%A4%EC%9C%84%EC%B9%AD%EC%9C%BC%EB%A1%9C-%EB%91%90-%EA%B0%9C-%EC%9D%B4%EC%83%81%EC%9D%84-%EB%8B%A4%EB%A4%84-%EB%B4%85%EC%8B%9C%EB%8B%A4">단축키 기능을 추가</a>하여 간단하고 직관적인 조작 방법으로 요소를 선택하고 이동할 수 있도록 기능을 개선하였습니다.

#### 개선점 <br/>

사용자 시점에서 고려해야 할 두 가지 부분은 다음과 같습니다 :

1. 선택한 요소의 범위, 즉 계층을 시각적으로 분리하여 사용자에게 표시할 것인지.
2. 선택 가능한 요소를 한눈에 보여주고, 실시간으로 요소의 위치가 변경 가능한지 표시할 것인지.

위치 이동이 가능한 요소들에는 점선 표기를 통해 초기 가이드라인을 제공하여, 사용자에게 한눈에 알아보기 쉽게 안내합니다.

<p align="center">
  <img src="https://github.com/user-attachments/assets/6f7e7348-ae59-4247-8e4f-9c23d61ffca1" width="700" height="auto" ><br/>
  <span style="display: inline-block" align="center">웹사이트에서 이동 가능한 요소들을 점선 가이드로 표시하여, 사용자가 쉽게 요소를 선택할 수 있도록 안내합니다.</span>
</p>

#### 웹 사이트의 요소에 가이드 라인을 표시합니다.

> 웹사이트의 각 요소에 가이드라인 표시로 이동 가능한 요소들을 CSS의 border 속성을 추가하여 표시합니다.

#### 구체화 <br/>

특정 웹사이트의 각 요소를 이동 가능하게 표시하기 위해 CSS의 border 속성을 적용하였으나, 여러 웹사이트를 테스트하는 과정에서 가이드라인 표시를 적용했을 때 요소들이 가진 넓이가 무너지는 현상이 발생했습니다. 이에 따라 다른 CSS 속성을 적용하기로 하였습니다.

#### 방안 적용 및 결과 <br/>

CSS의 border 속성은 넓이 값을 추가하여 표시되며, display: flex와 같은 레이아웃 방식이 아닌 고정된 넓이 값을 가진 padding, margin 등의 속성으로 인해 웹사이트의 각 요소들이 무너지는 현상이 발생할 수 있습니다. 이 경우, border 대신 outline 속성을 사용하여 각 요소의 경계 표시를 외부로 이동시킴으로써 문제를 개선할 수 있습니다.

|                                                         변경 전                                                         |                                                         변경 후                                                         |
| :---------------------------------------------------------------------------------------------------------------------: | :---------------------------------------------------------------------------------------------------------------------: |
| <img src="https://github.com/user-attachments/assets/632ca3d5-a3c2-4a89-85e2-44a056180315" width="auto" height="auto" > | <img src="https://github.com/user-attachments/assets/d01e455d-3b90-4407-ae1c-1ed830496fc6" width="auto" height="auto" > |
|                                        무너짐이 발생한 border 속성의 가이드 라인                                        |                                    무너짐이 발생 하지않은 outline 속성의 가이드 라인                                    |

<hr/>

### [요소의 이동 방법] 요소 이동은 단일 선택과 다중 선택이 가능합니다.

> "하나 이상의 요소를 한 번에 이동할 수는 없을까?"라는 질문을 바탕으로, 요소를 선택하고 이동하는 기능을 구현하고 테스트하는 과정에서 하나의 요소만 이동하는 것에서 확장하여 하나 이상의 요소를 이동하고, 이동한 위치에 추가하는 방법으로 사용자 경험을 개선하기로 하였습니다.<br/>

#### 구체화 <br/>

간단한 조작으로 단축키를 추가하여 단일 선택과 다중 선택을 사용자 편의성을 고려하여 구현하였습니다. 단일 선택으로 요소를 이동하는 경우와 다중 선택으로 요소의 위치를 추가하는 기능을 구상하여 적용하였습니다.

단축키 조작 방법은 아래와 같습니다 :

| 조작 방법 |                   단일 선택                    |                         다중 선택                         |
| :-------- | :--------------------------------------------: | :-------------------------------------------------------: |
| 선택      |  **마우스 좌측 클릭**으로 요소를 선택합니다.   |     **Shift + 마우스 좌측 클릭**으로 다중 선택합니다.     |
| 해제      | 선택된 요소는 마우스 좌측 클릭하여 해제합니다. |  선택된 상태에서 Shift 클릭하여 특정 선택을 해제합니다.   |
| 이동      | **Ctrl + 마우스 좌측 클릭** 상태로 이동합니다. | **Ctrl + 마우스 좌측 클릭**으로 그룹화 상태로 이동합니다. |

#### 방안 적용 및 결과 <br/>

요소를 이동하는 동안 요소의 위치를 실시간으로 보여주는 기능을 추가하여 사용자에게 요소의 최종 위치를 안내함으로써 사용자 경험을 개선하였습니다.<br/>

<p align="center">
  <img src="https://github.com/user-attachments/assets/cf23c187-44a5-49f8-8bf5-2f0c1a8b64f4" width="500" height="auto"><br/>
  <span style="display: inline-block" align="center">선택한 요소가 이동 중일 때 실시간으로 요소들의 위치들을 표시해 줍니다.</span>
</p>

### [요소의 화면 출력] 웹사이트의 정보를 빠르게 출력하고 리뉴얼도 체크합니다.

#### 요소들의 정보를 저장하는 데이터의 양을 예측하여 저장합니다.

> 기존의 기능 구현에서는 웹사이트에서 DOM이 화면에 출력된 후 사용자가 요소를 이동하거나 변경하면 DOM 구조도 바뀌게 됩니다. 이로 인해 전체 DOM을 저장하는 방식으로 접근하였으며, 각 요소가 배열에 담겨 데이터베이스에 저장됩니다.
>
> 이 경우 웹사이트마다 DOM 요소의 데이터 양이 다르며, 이로 인해 저장 및 조회 속도에 영향을 받습니다. 이를 해결하기 위해 스냅샷 저장 방식과 데이터베이스의 DOM 데이터를 경량화하는 방법으로 기능을 개선하였습니다.

<br/>

#### 구체화 - `스냅샷 저장 & 용량에 따른 GridFS 혼합방식 저장` <br/>

웹사이트마다 DOM 요소의 길이에 따라 용량이 다르게 나타나며, 이로 인해 저장 속도와 DOM 요소를 조회하는 속도도 상이하게 반응합니다. 예를 들어, 일부 웹 페이지에서는 DOM 요소의 양이 많아 로딩 시간이 길어져 사용자가 페이지가 멈춘 것처럼 느낄 수 있습니다. 이는 사용자의 PC 환경에 과도한 부담을 주어 사용자 경험을 저하시킵니다.

이 문제를 해결하기 위해 스냅샷 저장 방식을 도입하여 DOM의 특정 상태를 신속하게 저장할 수 있도록 하였습니다. 이는 사용자가 요소를 변경할 때마다 전체 DOM을 저장하는 대신, 변경된 부분만을 저장하여 효율성을 높입니다.

또한, GridFS와 같은 경량화 저장 방식을 혼합하여 대용량 데이터를 효과적으로 처리합니다. GridFS는 대용량 파일을 분할하여 저장하므로, 필요한 데이터만을 빠르게 조회할 수 있습니다. 이로 인해 웹사이트의 응답 속도가 개선되고, 사용자에게 보다 원활한 경험을 제공합니다.

이러한 방법들을 통해 DOM 요소의 저장 및 조회 속도를 최적화하고, 사용자에게 보다 나은 서비스를 제공할 수 있도록 지속적으로 개선해 나가고 있습니다.

<br/>
  <p align="center">
    <img src="https://github.com/user-attachments/assets/7fc5b141-c331-4767-8e11-e50d3c0e7903" width="700" height="auto"> <br/>
    <span style="display: inline-block" align="center">한 웹사이트의 DOM 요소를 전체 저장할 경우, 2,700개 이상의 값이 저장됩니다.</span>
  </p>

#### 방안 적용 및 결과 <br/>

**[GridFS 저장 방식을](https://www.mongodb.com/ko-kr/docs/manual/core/gridfs/)**
활용하여 MongoDB의 메서드를 통해 BSON 형식으로 데이터를 압축하여 저장했습니다. 웹 페이지마다 DOM의 용량은 상이하게 나타나며, GridFS는 데이터의 용량이 16GB 이상일 경우 고유 ID로 데이터를 변환하여 데이터베이스에 저장합니다. 반면, 16GB 이하의 데이터는 불필요한 변환 작업 없이 직접 저장됩니다. 이러한 방식은 대용량 데이터를 보다 효율적으로 관리할 수 있게 해 줍니다.

#### 웹 사이트가 리뉴얼이 발생하면 과거 저장한 정보가 맞지 않습니다.

##### ✔️ 사용자 맞춤형 DOM 요소 관리 및 리뉴얼 대응

> 웹사이트의 리뉴얼 과정에서 요소들의 추가, 삭제, 개선이 이루어질 경우, 현재 시점의 전체 DOM 요소 구성과 사용자가 이전에 저장했던 DOM 요소 구성 간에 차이가 발생할 수 있습니다. 이로 인해 사용자가 저장했던 요소의 구성이 리뉴얼된 요소의 구성과 상충하게 되며, 기존에 저장된 정보를 화면에 보여줄 수 없게 되어 다시 새로 변경하고 저장하는 불필요한 작업을 수행해야 할 수 있습니다.

이를 해결하기 위해, 사용자가 직접 변경한 DOM 요소만을 저장하고 조회하여 웹 페이지에 출력하는 시스템을 구현합니다. 출력 시에는 변경된 DOM 요소의 위치에 맞춰 적용하며, 각 요소는 현재 웹 페이지의 전체 DOM과 저장된 DOM 요소에 고유 ID를 부여하여 관리됩니다. 이 ID와 일치하는 DOM 요소에 저장된 요소를 적용함으로써, 사용자 경험을 보다 매끄럽게 유지할 수 있습니다.

또한, 저장한 DOM 요소에 해당하는 ID가 존재하지만 현재 DOM 요소에서는 해당 ID가 없을 경우, 이는 웹 페이지에 리뉴얼이 발생한 것으로 간주하여 사용자에게 팝업을 통해 다시 새로 저장하도록 안내합니다.

이러한 방식으로 사용자의 DOM 요소 구성을 유연하게 유지하고, 리뉴얼에 따른 불편함을 최소화하여 사용자 경험을 개선하고자 합니다.

#### 구체화 <br/>

`modifiedDOMSnapshot의` 의 이름으로 변경된 DOM 요소를 포함한 전체 DOM을 스냅샷으로 저장하며, 각 DOM 요소마다 고유 ID를 부여합니다. 현재 DOM이 웹 페이지 화면에 출력된 후, 익스텐션 아이콘(Toolbar button)을 클릭하면 현재 DOM 요소에 각각 고유 ID가 부여됩니다. 사용자가 변경한 DOM 요소는 변경된 개수별로 `elementChanges`에 저장됩니다.

- 현재 DOM과 저장된 DOM은 각 요소마다 기본적으로 동일한 ID를 가집니다.
- 이 두 개의 DOM은 비교 알고리즘을 통해 비교됩니다.
- 만약 다른 ID를 가진 DOM 요소를 찾게 되면, 저장된 데이터베이스에서 elementChanges 데이터를 가져옵니다.
- elementChanges 데이터에는 사용자가 변경하기 전의 원본 DOM 요소의 위치 값을 가진 속성과, 변경된 DOM 요소의 새로운 위치 값을 가진 속성이 포함되어 있습니다.
- 다른 ID를 가진 DOM 요소를 찾아서 그 위치의 현재 DOM 요소에 대해 elementChanges의 원본 DOM 요소 속성을 비교하고, 같은 속성일 경우 변경된 DOM 요소의 속성을 적용합니다.

#### 방안 적용 및 결과 <br/>

elementChanges가 가진 원본 DOM과 변경된 DOM의 각각의 위치 정보는 Xpath 메소드를 적용하여 저장합니다. 이 정보를 저장할 때 스타일 요소도 함께 저장하여, 변경된 정보를 웹 페이지에 출력할 때 스타일이 적용되도록 합니다.

#### 개선점 <br/>

현재 CSS 스타일이 모두 저장되지 않은 상태에서 웹 페이지에 출력되지 않는 경우가 발생할 수 있습니다. 이를 해결하기 위해 브라우저의 개발자 도구에서 마지막 요소를 참조하는 단축키인 $0 변수를 Xpath로 변환하여 저장하는 방법이 있습니다. 또한, CSS 스타일을 추가로 조사하여 웹 페이지 화면에서 출력된 상태의 DOM 요소의 CSS 스타일을 Xpath에 추가적으로 저장하는 방안을 통해 개선할 수 있습니다.

## 기능 구현 과정

### 익스텐션에서 구글 소셜 로그인 구현

> 크롬 브라우저가 설치된 PC에서 구글 소셜 로그인을 통해 사용자가 요소를 이동하고 저장했던 정보를 현재 웹사이트 화면에 불러오는 기능을 구현해야 합니다.

#### 구체화 <br/>

크롬 익스텐션 공식 문서에 따르면, `manifest.json` 파일에 firebase/auth/web-extension 코드를 추가하면 구글 소셜 로그인 관련 로직을 쉽게 사용할 수 있습니다. 그러나 Google Cloud 문서에 따르면 Chrome 확장 프로그램 사용자 로그인 기준에서 일부 기능은 무료로 제공되지만, 로그인 관련 추가 요구 사항이 발생할 경우 무료 사용이 어려울 수 있습니다. 이러한 추가 요구 사항은 배포 환경에서 로그인 기능에 제한을 줄 가능성이 있습니다.

따라서 크롬 익스텐션 API를 최우선으로 사용해야 하는 정책에 따라, 다른 구글 로그인이 가능한 방법을 탐색하고 Google Cloud의 OAuth 방식을 활용하여 `manifest.json`의 OAuth2에 로그인 기능을 정의하기로 결정했습니다.

#### 방안 적용 및 결과 <br/>

익스텐션에서 로그인 버튼을 클릭하면 구글 로그인이 정상적으로 진행되는 것을 확인했습니다. 로그인이 성공적으로 이루어지면 Google Cloud에 토큰을 요청하고, 익스텐션 API의 스토리지에 로그인 정보를 저장합니다.

#### 개선점 <br/>

구글 계정은 1인당 여러 개를 생성할 수 있는 특징이 있습니다. 따라서 사용자가 다른 구글 계정으로 로그인이 가능하도록 하는 기능이 필요합니다. 이를 위해 크롬 익스텐션 API에 저장된 구글 로그인 정보를 제거하는 기능을 추가하여 사용자가 다른 계정으로 자유롭게 로그인할 수 있도록 개선할 예정입니다.

<hr/>

## 프로젝트 회고

시간을 절약하고자 자주 방문하는 특정 웹사이트에서 클릭하는 카테고리 영역을 스크롤로 찾아가는 불편함을 느끼며, 웹사이트를 내가 원하는 형식으로 바꾸고 싶다는 아이디어에서 시작하였습니다.

모든 웹사이트의 DOM 요소를 조작하는 아이디어에 따라 크롬 익스텐션 개발이 적합하다고 판단하였고, 익스텐션 개발이 처음인 만큼 정책과 아키텍처를 이해하는 과정이 필요했습니다. 또한, 크롬 브라우저의 V8 엔진이 JavaScript에 최적화되어 있어 성능적인 이점을 고려하여 JavaScript를 선택하였습니다.

프로젝트를 진행하면서 특정 DOM 요소를 저장하는 기능과 전체 DOM을 스냅샷으로 저장하는 기능을 구현하는 방법에 대해 자료를 조사하고 검증하는 과정이 있었습니다. 이 과정에서는 DOM 조작의 효율성을 높이기 위해 필요한 기술과 패턴을 깊이 있게 이해하게 되었습니다.

특히, React의 비교 알고리즘인 재조정(Reconciliation)과 Virtual DOM의 동작 원리를 학습함으로써, React가 어떻게 효율적으로 UI를 업데이트하는지를 깨닫게 되었습니다. 재조정 과정에서 React는 변경된 부분만을 비교하여 업데이트하므로, 전체 DOM을 다시 렌더링 하는 대신 필요한 부분만을 효율적으로 수정할 수 있다는 점이 인상적이었습니다. 이러한 이해는 JavaScript에서 React로 마이그레이션 할 때 큰 도움이 되었습니다.

결과적으로, 익스텐션 개발을 시작하기 전과 비교할 때 React에 대한 이해가 훨씬 깊어졌다고 느꼈으며, 이는 향후 프로젝트에 긍정적인 영향을 미칠 것이라 확신합니다.
