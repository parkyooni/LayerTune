# LayerTune

<p align="center">
  <img src="https://github.com/user-attachments/assets/dfcaba5a-4713-4fed-a770-ab5ca2febd26">
</p>

<p align="center">
웹사이트 전체에서 사용자가 원하는 위치로 요소들을 이동할 수 있도록 돕는 Chrome Extension입니다. <br/>
웹사이트 페이지에서 사용자가 원하는 요소들을 한눈에 확인할 수 있으며, <br/>
간단한 조작으로 요소들의 위치를 이동시켜 나만의 사이트를 저장하고 보관할 수 있습니다.

</p>

<p align="center">
 크롬 확장 프로그램 <br/> GitHub Repo : <a href="https://github.com/parkyooni/LayerTune-Backend" target="_blank">Sever</a> <b>|</b> <a href="https://github.com/parkyooni/LayerTune" target="_blank">Clint<br/>
 <div align="center">
 <img src="https://img.shields.io/badge/javascript-222222?style=for-the-badge">
<img src="https://img.shields.io/badge/node-222222?style=for-the-badge">
<img src="https://img.shields.io/badge/MongoDB-222222?style=for-the-badge">
<img src="https://img.shields.io/badge/Express-222222?style=for-the-badge">
  </div>
</p>

## 기능

<!-- toc -->

- [프로젝트 기능 소개](#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EA%B8%B0%EB%8A%A5-%EC%86%8C%EA%B0%9C)
  - [[요소의 이동] 웹 사이트의 요소 위치를 이동합니다.](#%EC%9A%94%EC%86%8C%EC%9D%98-%EC%9D%B4%EB%8F%99-%EC%9B%B9-%EC%82%AC%EC%9D%B4%ED%8A%B8%EC%9D%98-%EC%9A%94%EC%86%8C-%EC%9C%84%EC%B9%98%EB%A5%BC-%EC%9D%B4%EB%8F%99%ED%95%A9%EB%8B%88%EB%8B%A4)
  - [[요소의 저장] 변경한 웹 사이트를 저장 & 불러옵니다.](#%EC%9A%94%EC%86%8C%EC%9D%98-%EC%A0%80%EC%9E%A5-%EB%B3%80%EA%B2%BD%ED%95%9C-%EC%9B%B9-%EC%82%AC%EC%9D%B4%ED%8A%B8%EB%A5%BC-%EC%A0%80%EC%9E%A5--%EB%B6%88%EB%9F%AC%EC%98%B5%EB%8B%88%EB%8B%A4)
- [핵심기능 구현 과정](#%ED%95%B5%EC%8B%AC%EA%B8%B0%EB%8A%A5-%EA%B5%AC%ED%98%84-%EA%B3%BC%EC%A0%95)
  - [[요소의 표시 및 선택] 모든 웹사이트의 각 요소를 표시하고 선택합니다.](#%EC%9A%94%EC%86%8C%EC%9D%98-%ED%91%9C%EC%8B%9C-%EB%B0%8F-%EC%84%A0%ED%83%9D-%EB%AA%A8%EB%93%A0-%EC%9B%B9%EC%82%AC%EC%9D%B4%ED%8A%B8%EC%9D%98-%EA%B0%81-%EC%9A%94%EC%86%8C%EB%A5%BC-%ED%91%9C%EC%8B%9C%ED%95%98%EA%B3%A0-%EC%84%A0%ED%83%9D%ED%95%A9%EB%8B%88%EB%8B%A4)
    - [모든 사이트에 이동 가능한 요소를 가이드 라인으로 제공합니다.](#%EB%AA%A8%EB%93%A0-%EC%82%AC%EC%9D%B4%ED%8A%B8%EC%97%90-%EC%9D%B4%EB%8F%99-%EA%B0%80%EB%8A%A5%ED%95%9C-%EC%9A%94%EC%86%8C%EB%A5%BC-%EA%B0%80%EC%9D%B4%EB%93%9C-%EB%9D%BC%EC%9D%B8%EC%9C%BC%EB%A1%9C-%EC%A0%9C%EA%B3%B5%ED%95%A9%EB%8B%88%EB%8B%A4)
    - [웹 사이트의 요소에 가이드 라인을 표시합니다.](#%EC%9B%B9-%EC%82%AC%EC%9D%B4%ED%8A%B8%EC%9D%98-%EC%9A%94%EC%86%8C%EC%97%90-%EA%B0%80%EC%9D%B4%EB%93%9C-%EB%9D%BC%EC%9D%B8%EC%9D%84-%ED%91%9C%EC%8B%9C%ED%95%A9%EB%8B%88%EB%8B%A4)
  - [[요소의 이동 방법] 요소 이동은 단일 선택과 다중 선택이 가능합니다.](#%EC%9A%94%EC%86%8C%EC%9D%98-%EC%9D%B4%EB%8F%99-%EB%B0%A9%EB%B2%95-%EC%9A%94%EC%86%8C-%EC%9D%B4%EB%8F%99%EC%9D%80-%EB%8B%A8%EC%9D%BC-%EC%84%A0%ED%83%9D%EA%B3%BC-%EB%8B%A4%EC%A4%91-%EC%84%A0%ED%83%9D%EC%9D%B4-%EA%B0%80%EB%8A%A5%ED%95%A9%EB%8B%88%EB%8B%A4)
  - [[요소의 화면 출력을 위한 저장] 이동한 DOM 요소를 감지하여 위치가 바뀐 정보만 저장합니다.](#%EC%9A%94%EC%86%8C%EC%9D%98-%ED%99%94%EB%A9%B4-%EC%B6%9C%EB%A0%A5%EC%9D%84-%EC%9C%84%ED%95%9C-%EC%A0%80%EC%9E%A5-%EC%9D%B4%EB%8F%99%ED%95%9C-dom-%EC%9A%94%EC%86%8C%EB%A5%BC-%EA%B0%90%EC%A7%80%ED%95%98%EC%97%AC-%EC%9C%84%EC%B9%98%EA%B0%80-%EB%B0%94%EB%80%90-%EC%A0%95%EB%B3%B4%EB%A7%8C-%EC%A0%80%EC%9E%A5%ED%95%A9%EB%8B%88%EB%8B%A4)
  - [[저장한 DOM 요소를 웹 사이트에 출력] 웹 사이트의 DOM 구조가 변경되면 과거 저장한 정보가 맞지 않습니다.](#%EC%A0%80%EC%9E%A5%ED%95%9C-dom-%EC%9A%94%EC%86%8C%EB%A5%BC-%EC%9B%B9-%EC%82%AC%EC%9D%B4%ED%8A%B8%EC%97%90-%EC%B6%9C%EB%A0%A5-%EC%9B%B9-%EC%82%AC%EC%9D%B4%ED%8A%B8%EC%9D%98-dom-%EA%B5%AC%EC%A1%B0%EA%B0%80-%EB%B3%80%EA%B2%BD%EB%90%98%EB%A9%B4-%EA%B3%BC%EA%B1%B0-%EC%A0%80%EC%9E%A5%ED%95%9C-%EC%A0%95%EB%B3%B4%EA%B0%80-%EB%A7%9E%EC%A7%80-%EC%95%8A%EC%8A%B5%EB%8B%88%EB%8B%A4)
- [기능 구현 과정](#%EA%B8%B0%EB%8A%A5-%EA%B5%AC%ED%98%84-%EA%B3%BC%EC%A0%95)
  - [익스텐션에서 구글 소셜 로그인 구현](#%EC%9D%B5%EC%8A%A4%ED%85%90%EC%85%98%EC%97%90%EC%84%9C-%EA%B5%AC%EA%B8%80-%EC%86%8C%EC%85%9C-%EB%A1%9C%EA%B7%B8%EC%9D%B8-%EA%B5%AC%ED%98%84)
- [프로젝트 회고](#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%ED%9A%8C%EA%B3%A0)

<!-- tocstop -->

## 프로젝트 기능 소개

### [요소의 이동] 웹 사이트의 요소 위치를 이동합니다.

<p align="center">
    <img src="https://github.com/user-attachments/assets/b30c4f20-f5f1-47a7-8b00-9bd6ebac9ae7" style="width: 100%" height="auto" ><br/>
    <span style="display: inline-block" align="center">웹 사이트에서 선택한 요소를 원하는 위치로 이동하여 위치를 변경합니다.
</span>
</p>
<br/>

- 원하는 웹 페이지에서 원하는 위치로 요소를 이동시키는 기능으로 두 가지의 이동 방법으로 나뉩니다.
  | 단일 선택 | 다중 선택 |
  | :-------------------------------------------------------------------------------------------: | :-------------------------------------------------------------------------------------------: |
  | ![단일 선택](https://github.com/user-attachments/assets/baf45f5c-55d1-4005-a6d0-df252b3e1e3c) | ![다중 선택](https://github.com/user-attachments/assets/f5bb8e1c-317d-46d1-8e81-bcc7151ef3d3) |
  | 단일 선택 시 이동 중인 요소를 원하는 위치로 이동하면 서로의 위치가 바뀝니다. | 다중 선택 시 이동 중인 요소를 원하는 위치의 다음 요소의 위치로 추가합니다. |

### [요소의 저장] 변경한 웹 사이트를 저장 & 불러옵니다.

<p align="center">
    <img src="https://github.com/user-attachments/assets/1e643829-d5f9-4171-a3dd-55c582b88133" width="700" height="auto" ><br/>
    <span style="display: inline-block" align="center">요소를 이동하고 저장하면 스위칭 탭 리스트에 저장한 정보가 조회됩니다.</span>
</p>

|                                           원본 웹 사이트                                           |                                           변경한 웹 사이트                                           |
| :------------------------------------------------------------------------------------------------: | :--------------------------------------------------------------------------------------------------: |
| ![원본 웹 사이트](https://github.com/user-attachments/assets/116983e7-ff56-48fe-abaa-36d5942cb510) | ![변경한 웹 사이트](https://github.com/user-attachments/assets/4c829ea7-65da-4015-8370-80d413d95026) |
|                               요소의 이동이 일어 나지 않은 웹 사이트                               |                                 요소의 이동 및 저장한 후의 웹 사이트                                 |

## 핵심기능 구현 과정

> 기능 구현 중에 발생한 챌린지로 <b> `기능 구체화 > 해결 방안 및 결과 > 개선점` </b> 순서로 작성합니다.

### [요소의 표시 및 선택] 모든 웹사이트의 각 요소를 표시하고 선택합니다.

#### 모든 사이트에 이동 가능한 요소를 가이드 라인으로 제공합니다.

> 이 익스텐션은 모든 사이트에서 이동 가능한 요소를 가이드라인으로 제공합니다. 브라우저 웹 페이지의 요소들은 DOM의 요소를 의미하며, DOM은 HTML 태그를 포함하고 있습니다. 그중 div와 시맨틱 태그 요소만을 탐색하여 접근합니다. 이러한 요소에 별도의 표시를 하여 사용자가 이동 가능한 범위를 쉽게 이해할 수 있도록 의도하였습니다.

##### 기능 구체화 <br/>

웹사이트마다 개발 방식이 다양하므로, div와 시맨틱 태그만으로 구성된 웹사이트는 아닐 수 있습니다. 이로 인해 다양한 계층으로 구성된 웹사이트에서 공통적인 요소를 한눈에 탐색하기 어려운 경우가 있습니다. 이러한 상황에서는 사용자가 제한적으로 일부 요소만 변경할 수 있으므로, DOM이 가진 HTML 요소 전체에 접근할 수 있는 확장성을 통해 개선해야 합니다.

##### 방안 적용 및 결과 <br/>

웹사이트에서 DOM 요소를 탐색할 때 HTML 전체가 아닌 body 태그를 기준으로 그 자식 요소들을 전부 탐색합니다. 사용자가 이동하고자 하는 요소에 접근하여 자유롭게 위치를 변경할 수 있도록 하여 사용자 경험을 개선하였습니다. 이때, 사용자가 요소를 쉽게 다룰 수 있도록 <a href="#4-%EB%8B%A8%EC%B6%95%ED%82%A4-%ED%95%9C-%EB%B2%88%EC%9D%98-%EC%8A%A4%EC%9C%84%EC%B9%AD%EC%9C%BC%EB%A1%9C-%EB%91%90-%EA%B0%9C-%EC%9D%B4%EC%83%81%EC%9D%84-%EB%8B%A4%EB%A4%84-%EB%B4%85%EC%8B%9C%EB%8B%A4">단축키 기능을 추가</a>하여 간단하고 직관적인 조작 방법으로 요소를 선택하고 이동할 수 있도록 기능을 개선하였습니다.

##### 개선점 <br/>

사용자 시점에서 고려해야 할 두 가지 부분은 다음과 같습니다 :

1. 선택한 요소의 범위, 즉 계층을 시각적으로 분리하여 사용자에게 표시할 것인지.
2. 선택 가능한 요소를 한눈에 보여주고, 실시간으로 요소의 위치가 변경 가능한지 표시할 것인지.

위치 이동이 가능한 요소들에는 점선 표기를 통해 초기 가이드라인을 제공하여, 사용자에게 한눈에 알아보기 쉽게 안내합니다.

<p align="center">
  <img src="https://github.com/user-attachments/assets/6f7e7348-ae59-4247-8e4f-9c23d61ffca1" width="700" height="auto" ><br/>
  <span style="display: inline-block" align="center">웹사이트에서 이동 가능한 요소들을 점선 가이드로 표시하여, 사용자가 쉽게 요소를 선택할 수 있도록 안내합니다.</span>
</p>

#### 웹 사이트의 요소에 가이드 라인을 표시합니다.

> 웹사이트의 각 요소에 가이드라인 표시로 이동 가능한 요소들을 CSS의 border 속성을 추가하여 표시합니다.

##### 기능 구체화 <br/>

특정 웹사이트의 각 요소를 이동 가능하게 표시하기 위해 CSS의 border 속성을 적용하였으나, 여러 웹사이트를 테스트하는 과정에서 가이드라인 표시를 적용했을 때 요소들이 가진 넓이가 무너지는 현상이 발생했습니다. 이에 따라 다른 CSS 속성을 적용하기로 하였습니다.

##### 방안 적용 및 결과 <br/>

CSS의 border 속성은 넓이 값을 추가하여 표시되며, display: flex와 같은 레이아웃 방식이 아닌 고정된 넓이 값을 가진 padding, margin 등의 속성으로 인해 웹사이트의 각 요소들이 무너지는 현상이 발생할 수 있습니다. 이 경우, border 대신 outline 속성을 사용하여 각 요소의 경계 표시를 외부로 이동시킴으로써 문제를 개선할 수 있습니다.

|                                                         변경 전                                                         |                                                         변경 후                                                         |
| :---------------------------------------------------------------------------------------------------------------------: | :---------------------------------------------------------------------------------------------------------------------: |
| <img src="https://github.com/user-attachments/assets/632ca3d5-a3c2-4a89-85e2-44a056180315" width="auto" height="auto" > | <img src="https://github.com/user-attachments/assets/d01e455d-3b90-4407-ae1c-1ed830496fc6" width="auto" height="auto" > |
|                                        무너짐이 발생한 border 속성의 가이드 라인                                        |                                    무너짐이 발생 하지않은 outline 속성의 가이드 라인                                    |

<hr/>

### [요소의 이동 방법] 요소 이동은 단일 선택과 다중 선택이 가능합니다.

> "하나 이상의 요소를 한 번에 이동할 수는 없을까?"라는 질문을 바탕으로, 요소를 선택하고 이동하는 기능을 구현하고 테스트하는 과정에서 하나의 요소만 이동하는 것에서 확장하여 하나 이상의 요소를 이동하고, 이동한 위치에 추가하는 방법으로 사용자 경험을 개선하기로 하였습니다.<br/>

#### 기능 구체화 <br/>

간단한 조작으로 단축키를 추가하여 단일 선택과 다중 선택을 사용자 편의성을 고려하여 구현하였습니다. 단일 선택으로 요소를 이동하는 경우와 다중 선택으로 요소의 위치를 추가하는 기능을 구상하여 적용하였습니다.

단축키 조작 방법은 아래와 같습니다 :

| 조작 방법 |                   단일 선택                    |                         다중 선택                         |
| :-------- | :--------------------------------------------: | :-------------------------------------------------------: |
| 선택      |  **마우스 좌측 클릭**으로 요소를 선택합니다.   |     **Shift + 마우스 좌측 클릭**으로 다중 선택합니다.     |
| 해제      | 선택된 요소는 마우스 좌측 클릭하여 해제합니다. |  선택된 상태에서 Shift 클릭하여 특정 선택을 해제합니다.   |
| 이동      | **Ctrl + 마우스 좌측 클릭** 상태로 이동합니다. | **Ctrl + 마우스 좌측 클릭**으로 그룹화 상태로 이동합니다. |

#### 방안 적용 및 결과 <br/>

요소를 이동하는 동안 요소의 위치를 실시간으로 보여주는 기능을 추가하여 사용자에게 요소의 최종 위치를 안내함으로써 사용자 경험을 개선하였습니다.<br/>

<p align="center">
  <img src="https://github.com/user-attachments/assets/cf23c187-44a5-49f8-8bf5-2f0c1a8b64f4" width="500" height="auto"><br/>
  <span style="display: inline-block" align="center">선택한 요소가 이동 중일 때 실시간으로 요소들의 위치들을 표시해 줍니다.</span>
</p>

### [요소의 화면 출력을 위한 저장] 이동한 DOM 요소를 감지하여 위치가 바뀐 정보만 저장합니다.

> 사용자가 웹 페이지에서 특정 요소의 위치를 변경할 경우 변경 사항을 실시간으로 감지하고 저장하며 웹 사이트에 저장한 DOM 요소를 적용할때 변경한 위치가 자동으로 반영되어 출력됩니다. 이를 위해 각 화면 요소에 고유한 ID를 부여하여 정확한 위치를 추적할 수 있게 하고, 드래그 앤 드롭으로 위치가 변경된 요소의 이전 위치와 변경 후의 위치를 기록하여 저장합니다.

#### 기능 구체화 - `DOM의 위치가 바뀐 요소 감지` <br/>

화면에 표시된 요소에 변경이 발생할 경우 실시간으로 감지하는 `MutationObserver`를 사용합니다.
감지된 DOM 요소의 정보 중 변경 전의 ID와 변경 후의 ID, 위치 경로, 요소의 속성과 스타일을 파악하여 기록합니다. 이 과정에서 각 요소의 변화만 저장하므로 전체 페이지의 정보가 아닌 필요한 정보만을 효율적으로 저장할 수 있습니다.

#### 방안 적용 및 결과 <br/>

사용자가 로그인 상태일 경우 DOM 요소의 위치 변경이 감지되면 저장 버튼이 활성화됩니다. 그리고 사용자가 저장 버튼을 클릭하면 변경된 요소의 위치 정보를 저장할 수 있게 됩니다.

MutationObserver를 사용함으로써 전체 페이지가 아닌 변경된 정보만을 저장하여 데이터 용량을 줄이고, 성능을 최적화할 수 있습니다.

### [저장한 DOM 요소를 웹 사이트에 출력] 웹 사이트의 DOM 구조가 변경되면 과거 저장한 정보가 맞지 않습니다.

> 사용자가 웹 사이트에서 저장한 DOM 요소의 위치나 스타일을 변경한 후 다시 웹 사이트를 방문하면, 저장된 정보를 기반으로 과거에 변경했던 위치와 속성을 그대로 적용 하는 것을 목표로 합니다. 웹 사이트의 구조가 변경되거나 요소가 삭제되는 경우에도 가능한 한 일관성 있게 적용될 수 있도록, MutationObserver를 통해 DOM의 변화를 실시간으로 감지하여 대응합니다.

#### 기능 구체화 <br/>

웹 사이트의 초기 로딩이 완료된 시점에 저장된 데이터를 브라우저 화면에 출력하기 위해 저장한 데이터의 `elementChanges`정보를 가져옵니다.
가져온 정보를 그대로 화면에 출력할 경우 저장된 DOM 요소의 위치를 자동으로 탐색할 수 없기에 현재 페이지의 DOM과 저장된 DOM의 정보를 비교하여 일치할 경우 화면에 적용하는 방안으로 개선합니다.

1. 초기 로딩 시 저장된 데이터 불러오기 및 비교<br/>
   • 웹 사이트가 처음 로딩된 후 저장된 `elementChanges` 데이터를 불러옵니다.<br/>
   • DOM 요소의 위치를 찾기 위해 현재 페이지의 DOM과 저장된 DOM의 위치 정보를 비교하여 일치하는 요소를 찾아내고, 일치할 경우 화면에 반영합니다.
   
3. `XPath`와 식별자 ID를 통한 요소 위치 확인<br/>
   • 각 요소의 위치는 XPath를 기준으로 찾으며 경로가 일치하지 않을 경우 식별자 ID를 추가적으로 비교하여 요소를 탐색합니다. <br/>
   • `MutationObserver`를 통해 `elementChanges` 데이터에서 변경 전과 후의 식별자 ID를 추적하여, 요소의 위치가 변경된 경우에도 이를 감지하고 올바르게 적용할 수 있도록 합니다.
   
5. 저장된 속성과 스타일 정보 적용<br/>
   • 변경된 위치의 DOM 요소에는 저장된 속성(updatedAttributes)과 스타일(updatedStyles) 정보를 적용하여, 사용자에게 지정한 상태로 화면에 출력될 수 있도록 합니다.<br/>
   • 요소가 정상적으로 화면에 출력될 경우, 일시적으로 배경색을 변경하여 사용자에게 변경 사항이 적용되었음을 시각적으로 피드백합니다.

#### 방안 적용 및 결과 <br/>

저장 및 적용에 각각 MutationObserver를 사용하여 DOM의 변경을 실시간으로 감지하기에 DOM의 위치를 추적이 가능하고 저장한 시점의 웹 사이트가 출력됩니다.
사용자가 저장된 정보가 정상적으로 브라우저 화면에 정상적으로 출력될 경우 변경된 위치의 DOM 요소의 스타일(백그라운드컬러)을 일시적으로 변경하여 사용자가 변경 사항을 확인할 수 있도록 시각적 피드백을 제공합니다.
단일 선택의 경우 저장된 정보와 현재 웹 사이트의 DOM을 비교할 때 MutationObserver로 실시간으로 감지하고, 필요 시 저장된 위치의 식별자 ID와 현재 위치의 식별자 ID를 교환하여 정확한 위치로 출력합니다.

XPath를 기준으로 요소 위치를 탐색하되, XPath가 일치하지 않을 경우 식별자 ID를 추가적으로 확인하여 요소 위치를 보완합니다. 두 기준이 모두 맞지 않을 경우, 요소의 속성이나 스타일을 추가적으로 탐색하여 위치를 찾고 그래도 일치하지 않으면 사용자에게 오류 메시지를 전달하여 DOM 구조 변경을 알릴 수 있도록 합니다.

#### 개선점 <br/>

웹 사이트 DOM 구조가 변경되면 XPath가 일치하지 않을 수 있으므로 `CSS Selector`를 함께 저장하여 추가 비교를 할 수 있도록 개선합니다.

현재는 페이지가 완전히 로드된 후에만 저장 및 적용이 가능합니다. 이러한 경우 무한 스크롤이나 `동적 로딩(Dynamic Loading)`이 있는 페이지에서는 저장된 위치를 찾지 못할 수 있습니다.
이를 해결하기 위해, `Lazy Loading`을 감지하는 방법을 추가적으로 조사하여 스크롤이나 리사이즈 이벤트를 감지한 후 DOM이 완전히 로드되었을 때 변경된 위치를 출력하는 방식으로 개선할 수 있습니다.

## 기능 구현 과정

### 익스텐션에서 구글 소셜 로그인 구현

> 크롬 브라우저가 설치된 PC에서 구글 소셜 로그인을 통해 사용자가 요소를 이동하고 저장했던 정보를 현재 웹사이트 화면에 불러오는 기능을 구현해야 합니다.

#### 구체화 <br/>

크롬 익스텐션 공식 문서에 따르면, `manifest.json` 파일에 firebase/auth/web-extension 코드를 추가하면 구글 소셜 로그인 관련 로직을 쉽게 사용할 수 있습니다. 그러나 Google Cloud 문서에 따르면 Chrome 확장 프로그램 사용자 로그인 기준에서 일부 기능은 무료로 제공되지만, 로그인 관련 추가 요구 사항이 발생할 경우 무료 사용이 어려울 수 있습니다. 이러한 추가 요구 사항은 배포 환경에서 로그인 기능에 제한을 줄 가능성이 있습니다.

따라서 크롬 익스텐션 API를 최우선으로 사용해야 하는 정책에 따라, 다른 구글 로그인이 가능한 방법을 탐색하고 Google Cloud의 OAuth 방식을 활용하여 `manifest.json`의 OAuth2에 로그인 기능을 정의하기로 결정했습니다.

#### 방안 적용 및 결과 <br/>

익스텐션에서 로그인 버튼을 클릭하면 구글 로그인이 정상적으로 진행되는 것을 확인했습니다. 로그인이 성공적으로 이루어지면 Google Cloud에 토큰을 요청하고, 익스텐션 API의 스토리지에 로그인 정보를 저장합니다.

#### 개선점 <br/>

구글 계정은 1인당 여러 개를 생성할 수 있는 특징이 있습니다. 따라서 사용자가 다른 구글 계정으로 로그인이 가능하도록 하는 기능이 필요합니다. 이를 위해 크롬 익스텐션 API에 저장된 구글 로그인 정보를 제거하는 기능을 추가하여 사용자가 다른 계정으로 자유롭게 로그인할 수 있도록 개선할 예정입니다.

<hr/>

## 프로젝트 회고

시간을 절약하고자 자주 방문하는 특정 웹사이트에서 클릭하는 카테고리 영역을 스크롤로 찾아가는 불편함을 느끼며, 웹사이트를 내가 원하는 형식으로 바꾸고 싶다는 아이디어에서 시작하였습니다.

모든 웹사이트의 DOM 요소를 조작하는 아이디어에 따라 크롬 익스텐션 개발이 적합하다고 판단하였고, 익스텐션 개발이 처음인 만큼 정책과 아키텍처를 이해하는 과정이 필요했습니다. 또한, 크롬 브라우저의 V8 엔진이 JavaScript에 최적화되어 있어 성능적인 이점을 고려하여 JavaScript를 선택하였습니다.

서비스 중인 외부 URL이 DOM에 접근하고 조작하여 저장하는 기능에서, 저장한 정보를 해당 웹 사이트에 출력할 때, 해당 웹 사이트의 DOM이 변경되어 비교하기 위해 지정한 식별자 ID가 저장된 정보와 위치가 다르거나, 없을 경우에 대한 기능 구현에서 리액트의 동작원리, 스냅샷, 변경된 DOM만 저장하여 출력 등의 자료조사 및 검증을 하는 과정에서 많은 어려움과 챌린지 등을 마주하여 해결하는 과정에서 값진 배움을 얻는 경험이었습니다.

대표적으로 리액트의 동작원리를 익스텐션에 적용하기 위해 리액트의 가상돔으로 인한 동작원리와 익스텐션의 서비스 중인 웹 사이트의 DOM이 파싱 되어 로드된 상태로 접근 및 조작까지는 가능하나, 리뉴얼에 대한 DOM의 예측하기 어려운 경우에 대한 적용으로 비교알고리즘 및 스냅샷의 검증에 제한적인 요소로 XPath로 경로 추적하여 각각의 변경된 DOM만 적용하는 방안으로 결정하기까지 좋은 경험을 지속 중입니다.

리액트 동작원리 검증에서 프로젝트를 구성하고 기능을 검증하는 과정에서 특정 DOM 요소를 저장하는 기능과 전체 DOM을 스냅샷으로 저장하는 기능을 구현하는 방법에 대해 자료를 조사를 했습니다. 이 과정에서는 DOM 조작의 효율성을 높이기 위해 필요한 기술과 패턴을 깊이 있게 이해하게 되었습니다.

특히, React의 비교 알고리즘인 재조정(Reconciliation)과 Virtual DOM의 동작 원리를 학습함으로써, React가 어떻게 효율적으로 UI를 업데이트하는지를 깨닫게 되었습니다. 재조정 과정에서 React는 변경된 부분만을 비교하여 업데이트하므로, 전체 DOM을 다시 렌더링 하는 대신 필요한 부분만을 효율적으로 수정할 수 있다는 점이 인상적이었습니다. 이러한 이해는 JavaScript에서 React로 마이그레이션 할 때 기본 원동력이 될 것이라 확신합니다.

결과적으로, 익스텐션 개발을 시작하기 전과 비교할 때 React에 대한 이해가 훨씬 깊어졌다고 느꼈으며, 이는 향후 프로젝트에 긍정적인 영향을 미칠 것이라 확신합니다.
